<div id="record">
	
	<div class="addRecord">
		<div class="table  {{addData.cashType ? 'row-earn' : 'row-cost' }}">
			<div class="td td-add">
				<div class="btn-add" ng-click="addRecord()">
					<div class="btn-add-word">{{i18n.record.add}}</div>
				</div>
			</div>
			<div class="td td-type">
				<select id="cashType" ng-change="cleanTypes(addData)" ng-model="addData.cashType">
					<option value="">{{i18n.record.cost}}</option>
					<option value="1">{{i18n.record.earn}}</option>
				</select>
			</div>
			<div class="td">
				<select id="typeList" ng-model="addData.typeSelection"  ng-change="typeSelectionChange(addData)" ng-options="type as type.type_label for type in typeQuickSelectList(addData.cashType)">
					<option disabled value>{{i18n.record.type}}</option>
				</select>
			</div>
			<div ng-if="addData.typesLength" class="td td-types_block">
				<div class="block-type-row" ng-repeat="type in addData.types" ng-click="removeTypes(type,addData)">
					<span>{{type.type_label}}</span>
				</div>
			</div>
			<div class="td">
				<select id="typeList" ng-model="addData.currency"  ng-options="currency.cid as str.to_cid(currency) for currency in currencyQuickSelectList()">
				</select>
			</div>
			<div class="td td-value">
				<input ng-model="addData.value" placeholder="{{i18n.record.value_placeholder}}">
			</div>
			<div class="td">
				<input ng-model="addData.memo" placeholder="{{i18n.record.momo_placeholder}}">
			</div>
			<div class="td">
				<input class="cell" type="date" placeholder="{{i18n.record.date_placeholder}}" ng-model="addData.date" />
			</div>
		</div>
	</div>

	<div ng-if="types===ubdefiend">loading...</div>
	<div ng-if="types.length===0">null</div>
	<div ng-if="types">
	</div>
</div>


<script type="text/ng-template" id="typeTree">
	<div class="table">
		<div class="td td-tid">
			<span id="type_id">{{typeMap.data.tid}}</span>
		</div>
		<div class="td">
			<input id="type_label" value="{{typeMap.data.type_label}}" />
		</div>
		<div class="td">
			<select id="cashType" ng-model="typeMap.data.cashType">
				<option value="0">{{i18n.showType.cost_earn}}</option>
				<option value="-1">{{i18n.showType.cost}}</option>
				<option value="1">{{i18n.showType.earn}}</option>
			</select>
		</div>

		<div class="td td-checkbox">
			<div class="wrapper"><input ng-model="typeMap.data.quickSelect" type="checkbox" />{{i18n.showType.quickSelect}}</div>
			<div class="wrapper"><input ng-model="typeMap.data.master" type="checkbox" />{{i18n.showType.master}}</div>
			<br>
			<div class="wrapper"><input ng-model="typeMap.data.showInMap" type="checkbox" />{{i18n.showType.showInMap}}</div>
		</div>
		<div class="td">
			<select id="parent_tid" ng-model="type.tid" ng-options="type.tid as type.type_label for type in types">
				<option value="" disabled>{{i18n.showType.parent}}</option>
			</select>
		</div>
	</div>
    <ul  class="typeMaps-Wrapper" ng-if="typeMap.sub">
        <li ng-repeat="typeMap in typeMap.sub" ng-include="'typeTree'"></li>
    </ul>
</script>
